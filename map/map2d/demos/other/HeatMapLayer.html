<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">

<head>
    <title>热力地图</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
</head>

<body>
    <div class="map-id" id="mapId"></div>
    <script type="text/javascript" src="/CloundMap/map/extend/heatmap.js"></script>
    <script type="text/javascript" src="/CloundMap/map/Init.js"></script>
    
    <script type="text/javascript" src="/CloundMap/js/jquery.js"></script>
    <script type="text/javascript">
    var datas = [{ count: 3, lon: "118.887314", lat: "31.32715" },
        { count: 4, lon: "118.869655", lat: "31.328096" },
        { count: 5, lon: "118.872817", lat: "31.329128" },
        { count: 4, lon: "118.864078", lat: "31.329557" },
        { count: 5, lon: "118.89002", lat: "31.567781" },
        { count: 5, lon: "119.016042", lat: "31.634924" },
        { count: 4, lon: "119.020496", lat: "31.648279" },
        { count: 4, lon: "119.027995", lat: "31.648692" },
        { count: 4, lon: "119.044195", lat: "31.652338" },
        { count: 5, lon: "119.04455", lat: "31.658264" },
        { count: 4, lon: "119.022006", lat: "31.663162" },
        { count: 4, lon: "118.890562", lat: "31.684558" },
        { count: 3, lon: "119.063891", lat: "31.69694" },
        { count: 8, lon: "118.802654", lat: "31.782162" },
        { count: 2, lon: "118.895308", lat: "31.887667" },
        { count: 6, lon: "118.8997", lat: "31.903969" },
        { count: 6, lon: "118.78246", lat: "31.910119" },
        { count: 3, lon: "118.90264", lat: "31.914912" },
        { count: 4, lon: "118.894494", lat: "31.916486" },
        { count: 5, lon: "118.826951", lat: "31.926947" },
        { count: 2, lon: "118.816868", lat: "31.928628" },
        { count: 3, lon: "118.827948", lat: "31.92901" },
        { count: 5, lon: "118.840871", lat: "31.930774" },
        { count: 3, lon: "118.805795", lat: "31.933463" },
        { count: 5, lon: "118.81119", lat: "31.93627" },
        { count: 5, lon: "118.877213", lat: "31.93826" },
        { count: 4, lon: "118.821307", lat: "31.942098" },
        { count: 1, lon: "118.803223", lat: "31.943522" },
        { count: 2, lon: "118.810704", lat: "31.944586" },
        { count: 2, lon: "118.815957", lat: "31.945277" },
        { count: 4, lon: "118.85565", lat: "31.94874" },
        { count: 8, lon: "118.82315", lat: "31.952517" },
        { count: 10, lon: "118.761831", lat: "31.955181" },
        { count: 3, lon: "118.853385", lat: "31.956413" },
        { count: 3, lon: "118.854234", lat: "31.957051" },
        { count: 4, lon: "118.833242", lat: "31.95971" },
        { count: 2, lon: "118.812694", lat: "31.959993" },
        { count: 5, lon: "118.857767", lat: "31.961123" },
        { count: 10, lon: "118.813692", lat: "31.969835" },
        { count: 4, lon: "118.829718", lat: "31.973363" },
        { count: 3, lon: "118.769577", lat: "31.974755" },
        { count: 3, lon: "118.79774", lat: "31.977634" },
        { count: 2, lon: "118.801726", lat: "31.982653" },
        { count: 5, lon: "118.797223", lat: "31.993729" },
        { count: 5, lon: "118.781845", lat: "31.997838" },
        { count: 1, lon: "118.691797", lat: "31.999808" },
        { count: 3, lon: "118.77776", lat: "32.004438" },
        { count: 9, lon: "118.777009", lat: "32.004784" },
        { count: 7, lon: "118.793475", lat: "32.006143" },
        { count: 12, lon: "118.780238", lat: "32.007122" },
        { count: 9, lon: "118.778327", lat: "32.007168" },
        { count: 3, lon: "118.780731", lat: "32.009619" },
        { count: 7, lon: "118.84276", lat: "32.01112" },
        { count: 3, lon: "118.752688", lat: "32.012954" },
        { count: 1, lon: "118.7828", lat: "32.013667" },
        { count: 5, lon: "118.782408", lat: "32.014162" },
        { count: 4, lon: "118.778463", lat: "32.014493" },
        { count: 2, lon: "118.832338", lat: "32.014723" },
        { count: 2, lon: "118.755088", lat: "32.016319" },
        { count: 2, lon: "118.782875", lat: "32.017371" },
        { count: 3, lon: "118.79271", lat: "32.01787" },
        { count: 3, lon: "118.774382", lat: "32.017929" },
        { count: 4, lon: "118.769295", lat: "32.017943" },
        { count: 7, lon: "118.852978", lat: "32.018121" },
        { count: 3, lon: "118.764255", lat: "32.018306" },
        { count: 5, lon: "118.859229", lat: "32.018446" },
        { count: 3, lon: "118.791296", lat: "32.018864" },
        { count: 1, lon: "118.790159", lat: "32.018969" },
        { count: 7, lon: "118.800139", lat: "32.019267" },
        { count: 5, lon: "118.790963", lat: "32.019726" },
        { count: 2, lon: "118.791674", lat: "32.01985" },
        { count: 5, lon: "118.828409", lat: "32.02004" },
        { count: 2, lon: "118.791024", lat: "32.020912" },
        { count: 8, lon: "118.783947", lat: "32.021043" },
        { count: 3, lon: "118.793346", lat: "32.021339" },
        { count: 2, lon: "118.793734", lat: "32.021674" },
        { count: 3, lon: "118.78472", lat: "32.02226" },
        { count: 5, lon: "118.764245", lat: "32.022264" },
        { count: 2, lon: "118.793045", lat: "32.022378" },
        { count: 4, lon: "118.791152", lat: "32.022663" },
        { count: 3, lon: "118.791947", lat: "32.023645" },
        { count: 3, lon: "118.767082", lat: "32.023898" },
        { count: 3, lon: "118.78475", lat: "32.02401" },
        { count: 4, lon: "118.792662", lat: "32.024064" },
        { count: 11, lon: "118.789498", lat: "32.024205" },
        { count: 4, lon: "118.79209", lat: "32.024521" },
        { count: 2, lon: "118.802733", lat: "32.025747" },
        { count: 6, lon: "118.784975", lat: "32.026429" },
        { count: 6, lon: "118.774921", lat: "32.026648" },
        { count: 6, lon: "118.783956", lat: "32.026785" },
        { count: 6, lon: "118.796578", lat: "32.027519" },
        { count: 1, lon: "118.801108", lat: "32.02773" },
        { count: 2, lon: "118.786979", lat: "32.028823" },
        { count: 8, lon: "118.754719", lat: "32.030015" },
        { count: 2, lon: "118.770046", lat: "32.030445" },
        { count: 6, lon: "118.791616", lat: "32.030745" },
        { count: 6, lon: "118.765212", lat: "32.030818" },
        { count: 6, lon: "118.775909", lat: "32.030866" },
        { count: 4, lon: "118.763328", lat: "32.03118" },
        { count: 1, lon: "118.791629", lat: "32.031345" },
        { count: 5, lon: "118.780803", lat: "32.031381" },
        { count: 5, lon: "118.788444", lat: "32.031482" },
        { count: 5, lon: "118.808617", lat: "32.032013" },
        { count: 7, lon: "118.811192", lat: "32.032201" },
        { count: 6, lon: "118.75778", lat: "32.032461" },
        { count: 4, lon: "118.791668", lat: "32.032494" },
        { count: 6, lon: "118.791639", lat: "32.032581" },
        { count: 3, lon: "118.767559", lat: "32.032814" },
        { count: 2, lon: "118.796679", lat: "32.033347" },
        { count: 4, lon: "118.814799", lat: "32.033619" },
        { count: 9, lon: "118.787136", lat: "32.034675" },
        { count: 7, lon: "118.777414", lat: "32.034793" },
        { count: 3, lon: "118.77361", lat: "32.03497" },
        { count: 2, lon: "118.789372", lat: "32.035061" },
        { count: 4, lon: "118.752117", lat: "32.03516" },
        { count: 3, lon: "118.788523", lat: "32.035163" },
        { count: 5, lon: "118.757072", lat: "32.035198" },
        { count: 1, lon: "118.779778", lat: "32.036211" },
        { count: 5, lon: "118.777189", lat: "32.036268" },
        { count: 3, lon: "118.774263", lat: "32.036534" },
        { count: 7, lon: "118.781162", lat: "32.037233" },
        { count: 6, lon: "118.869231", lat: "32.038612" },
        { count: 4, lon: "118.783482", lat: "32.038744" },
        { count: 6, lon: "118.843556", lat: "32.038786" },
        { count: 6, lon: "118.78715", lat: "32.03902" },
        { count: 6, lon: "118.792229", lat: "32.039341" },
        { count: 1, lon: "118.811919", lat: "32.039572" },
        { count: 2, lon: "118.799602", lat: "32.039895" },
        { count: 5, lon: "118.803211", lat: "32.040202" },
        { count: 3, lon: "118.805606", lat: "32.040219" },
        { count: 3, lon: "118.801656", lat: "32.040505" },
        { count: 1, lon: "118.738255", lat: "32.040986" },
        { count: 1, lon: "118.751129", lat: "32.041043" },
        { count: 6, lon: "118.775623", lat: "32.042709" },
        { count: 2, lon: "118.875223", lat: "32.043189" },
        { count: 1, lon: "118.779848", lat: "32.044855" },
        { count: 2, lon: "118.78248", lat: "32.045595" },
        { count: 4, lon: "118.80717", lat: "32.045823" },
        { count: 11, lon: "118.782026", lat: "32.045894" },
        { count: 23, lon: "118.785003", lat: "32.046543" },
        { count: 6, lon: "118.779261", lat: "32.046738" },
        { count: 4, lon: "118.800936", lat: "32.047618" },
        { count: 2, lon: "118.794578", lat: "32.04854" },
        { count: 3, lon: "118.819443", lat: "32.049222" },
        { count: 10, lon: "118.782429", lat: "32.049683" },
        { count: 1, lon: "118.747927", lat: "32.049807" },
        { count: 2, lon: "118.78536", lat: "32.049891" },
        { count: 4, lon: "118.75273", lat: "32.051249" },
        { count: 2, lon: "118.77196", lat: "32.05163" },
        { count: 2, lon: "118.786862", lat: "32.051664" },
        { count: 3, lon: "118.778801", lat: "32.051795" },
        { count: 5, lon: "118.786834", lat: "32.051983" },
        { count: 3, lon: "118.775126", lat: "32.0524" },
        { count: 1, lon: "118.772861", lat: "32.05273" },
        { count: 5, lon: "118.8957", lat: "32.053438" },
        { count: 5, lon: "118.7552", lat: "32.054699" },
        { count: 11, lon: "118.77943", lat: "32.055015" },
        { count: 1, lon: "118.751092", lat: "32.055036" },
        { count: 3, lon: "118.783045", lat: "32.056334" },
        { count: 2, lon: "119.060332", lat: "32.057095" },
        { count: 8, lon: "118.789841", lat: "32.057384" },
        { count: 2, lon: "118.62417", lat: "32.059121" },
        { count: 2, lon: "118.751866", lat: "32.059245" },
        { count: 1, lon: "118.795204", lat: "32.05959" },
        { count: 3, lon: "118.758204", lat: "32.060679" },
        { count: 2, lon: "118.787449", lat: "32.060769" },
        { count: 2, lon: "118.779792", lat: "32.061676" },
        { count: 4, lon: "118.779606", lat: "32.062383" },
        { count: 1, lon: "118.632933", lat: "32.064367" },
        { count: 5, lon: "119.063686", lat: "32.065768" },
        { count: 2, lon: "118.77295", lat: "32.066634" },
        { count: 4, lon: "118.761684", lat: "32.066787" },
        { count: 7, lon: "118.78383", lat: "32.067119" },
        { count: 4, lon: "118.780126", lat: "32.0672" },
        { count: 3, lon: "118.783867", lat: "32.070159" },
        { count: 4, lon: "118.769187", lat: "32.071223" },
        { count: 3, lon: "118.812693", lat: "32.071666" },
        { count: 6, lon: "118.783252", lat: "32.072052" },
        { count: 4, lon: "118.755434", lat: "32.072918" },
        { count: 7, lon: "118.754461", lat: "32.073178" },
        { count: 4, lon: "118.784045", lat: "32.073235" },
        { count: 5, lon: "118.808997", lat: "32.07358" },
        { count: 4, lon: "118.817722", lat: "32.07406" },
        { count: 4, lon: "118.826662", lat: "32.074488" },
        { count: 7, lon: "118.818204", lat: "32.075126" },
        { count: 3, lon: "118.825814", lat: "32.076532" },
        { count: 6, lon: "118.825472", lat: "32.07817" },
        { count: 3, lon: "118.753079", lat: "32.080777" },
        { count: 3, lon: "118.751789", lat: "32.080897" },
        { count: 4, lon: "118.823933", lat: "32.081313" },
        { count: 5, lon: "118.756456", lat: "32.08234" },
        { count: 7, lon: "118.830886", lat: "32.083534" },
        { count: 7, lon: "118.806066", lat: "32.084248" },
        { count: 3, lon: "118.752852", lat: "32.084494" },
        { count: 7, lon: "118.755001", lat: "32.085163" },
        { count: 5, lon: "118.752684", lat: "32.085307" },
        { count: 3, lon: "118.754747", lat: "32.086926" },
        { count: 11, lon: "118.754573", lat: "32.087278" },
        { count: 6, lon: "118.814648", lat: "32.087863" },
        { count: 4, lon: "118.813924", lat: "32.087949" },
        { count: 6, lon: "118.80021", lat: "32.088019" },
        { count: 1, lon: "118.734011", lat: "32.089021" },
        { count: 2, lon: "118.77388", lat: "32.089754" },
        { count: 4, lon: "118.771521", lat: "32.090463" },
        { count: 6, lon: "118.795289", lat: "32.091424" },
        { count: 5, lon: "118.795601", lat: "32.092036" },
        { count: 6, lon: "118.769694", lat: "32.092204" },
        { count: 4, lon: "118.758538", lat: "32.093893" },
        { count: 2, lon: "118.765575", lat: "32.094055" },
        { count: 3, lon: "118.753999", lat: "32.097577" },
        { count: 4, lon: "118.830658", lat: "32.09815" },
        { count: 6, lon: "118.810421", lat: "32.100445" },
        { count: 7, lon: "118.920582", lat: "32.10183" },
        { count: 5, lon: "118.910321", lat: "32.10522" },
        { count: 1, lon: "118.81015", lat: "32.105933" },
        { count: 9, lon: "118.815672", lat: "32.108629" },
        { count: 6, lon: "118.752345", lat: "32.10945" },
        { count: 3, lon: "118.816114", lat: "32.113548" },
        { count: 3, lon: "118.816329", lat: "32.115696" },
        { count: 2, lon: "118.83541", lat: "32.1176" },
        { count: 3, lon: "118.818363", lat: "32.118632" },
        { count: 5, lon: "118.801547", lat: "32.119167" },
        { count: 4, lon: "118.81751", lat: "32.119865" },
        { count: 6, lon: "118.923808", lat: "32.121339" },
        { count: 2, lon: "118.723864", lat: "32.122086" },
        { count: 5, lon: "118.842557", lat: "32.124139" },
        { count: 9, lon: "118.823695", lat: "32.126698" },
        { count: 1, lon: "118.730255", lat: "32.13064" },
        { count: 1, lon: "118.82352", lat: "32.133359" },
        { count: 3, lon: "118.94548", lat: "32.136537" },
        { count: 4, lon: "118.954428", lat: "32.151751" },
        { count: 1, lon: "118.718932", lat: "32.170167" },
        { count: 7, lon: "119.203733", lat: "32.197504" },
        { count: 1, lon: "118.711424", lat: "32.198452" },
        { count: 1, lon: "118.717911", lat: "32.207817" },
        { count: 14, lon: "118.757955", lat: "32.210489" },
        { count: 1, lon: "118.765646", lat: "32.233021" },
        { count: 4, lon: "118.846909", lat: "32.351689" }
    ];

    var map;
    $.getJSON('/CloundMap/map/mapConfig.json', mapConfigResult => {
        var mapContainer = document.getElementById('mapId');
        var tool = new MapPlatForm.Base.MapConfig();
        var resultJson = tool.createMap(mapContainer, mapConfigResult);
        map = resultJson.map;
        var dataset = {
            max: 23,
            data: datas
        };
        var opt = {
            isBaseLayer: false,
            opacity: 1.0,
            projection: 'EPSG:4326',
            visible: true,
            radius: 20
        }
        var heatlayer = new NPMapLib.Layers.HeatMapLayer("heatlayer", opt);
        map.addLayers([heatlayer]);
        heatlayer.setDataset(dataset);
        map.setCenter({
            lon: 118.78052774619859,
            lat: 32.04814652470133
        });
    });
    </script>
</body>

</html>